(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(4),r=c.n(o),i=c(3),s=c(7),l=(c(15),c(1));var u=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),o=a[0],r=a[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):s.b.warn("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")},className:"SearchForm",children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())},name:"imageKeyword",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},j=c(9),b=c(10),m=c.n(b);c(37);var d=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(m.a,{type:"ThreeDots",color:"#3ebb2e",height:50,width:50,timeout:0,display:"block"})})};c(38);var h=function(e){var t=e.images,c=e.onClick;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)("li",{onClick:function(){return c(e.largeImageURL,e.tags)},className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image"})},e.id)}))})},O=(c(39),document.querySelector("#modal-root"));var f=function(e){var t=e.onClose,c=e.modalImg,a=e.modalAlt;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(o.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:c,alt:a})})}),O)},g=(c(40),function(e){var t=e.onClick;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})})});var v,p,x={fetchImages:function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12;return fetch("".concat(e,"?q=").concat(t,"&page=").concat(c,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(a)).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u043a\u043e\u0434\u043e\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u043e\u043c ".concat(t)))}))}},y=(c(41),"https://pixabay.com/api/"),S="22634984-1ce924b253c51d48f10b47cfd",w="idle",k="pending",C="resolved",I="rejected";var N=function(e){var t=e.imageKeyword,c=e.startPage,a=Object(n.useState)([]),o=Object(i.a)(a,2),r=o[0],s=o[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),m=b[0],O=b[1],N=Object(n.useState)(w),E=Object(i.a)(N,2),F=E[0],L=E[1],P=Object(n.useState)(!1),T=Object(i.a)(P,2),A=T[0],G=T[1],K=Object(n.useState)(!1),q=Object(i.a)(K,2),B=q[0],D=q[1],J=Object(n.useState)(1),M=Object(i.a)(J,2),R=M[0],U=M[1];function _(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}Object(n.useEffect)((function(){t&&(L(k),x.fetchImages(y,t,c,S,12).then((function(e){s(e.hits),U(c+1),L(C),D(!0)}),_()).catch((function(e){O(e),L(I)})).finally((function(){return D(!1)})))}),[t,c]);var z=function(e,t){G(!A),v=e,p=t},H=r.length>0&&!B;return F===w?Object(l.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"}):F===k?Object(l.jsx)(d,{}):F===I?Object(l.jsx)("h1",{children:m}):F===C?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"ImageGallery",children:Object(l.jsx)(h,{images:r,onClick:z})}),H&&Object(l.jsx)(g,{onClick:function(){x.fetchImages(y,t,R,S,12).then((function(e){s([].concat(Object(j.a)(r),Object(j.a)(e.hits))),U(R+1),L(C),D(!1),_()})).catch((function(e){O(e),L(I)})).finally(D(!B))}}),A&&Object(l.jsx)(f,{onClose:z,modalImg:v,modalAlt:p})]}):void 0};c(42),c(43);var E=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(1),r=Object(i.a)(o,1)[0];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{onSubmit:a}),Object(l.jsx)(N,{imageKeyword:c,startPage:r}),Object(l.jsx)(s.a,{autoClose:3e3})]})};c(44);r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.9ed84eef.chunk.js.map